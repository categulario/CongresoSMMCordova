<!DOCTYPE html>
<html>
  <head>
    <!--
    Customize this policy to fit your own app's needs. For more guidance, see:
        https://github.com/apache/cordova-plugin-whitelist/blob/master/README.md#content-security-policy
    Some notes:
        * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
        * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
        * Disables use of inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
            * Enable inline JS: add 'unsafe-inline' to default-src
    -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <title>Congreso SMM</title>
  </head>
  <body>
    <div id="app" class="container">

      <div class="title-bar">
        <div class="title-left-action">
          <i :class="left_icon" @click="runLeftAction" class="fa"></i>
        </div>
        <div class="title-title">
          {{ title }}
        </div>
        <div class="title-hour">
          {{ currentHour }}
        </div>
      </div>

      <div class="main-content">
        <div class="btn-container" v-if="section=='home'">
          <button class="btn" @click="scheduleClick">Programa de hoy</button>
          <button class="btn" @click="talksNextClick" v-if="nextTime">¿A qué puedo entrar a las {{ nextTime }}?</button>
          <button class="btn" @click="talksNowClick">¿A qué puedo entrar ahora?</button>
        </div>

        <div
          class="schedule-list"
          v-if="section=='schedule'"
        >
          <div
            class="schedule-item"
            v-for="item in this[default_filter]"
          >
            <div class="schedule-item-wrapper">
              <strong class="schedule-title">{{ item.title }}</strong><br>
              <span class="schedule-author">
                {{ item.author}}<br>
                <small>{{ item.place}}</small>
              </span>
              <div class="schedule-data">
                <span>{{ item.from }} - {{ item.to }}</span>
                <span>{{ item.area }}</span>
              </div>
            </div>
            <div class="schedule-item-progress">
              <item-progress
                inline-template
                :from="item.from"
                :to="item.to"
                :hour="currentHour"
              >
                <div
                  class="schedule-item-progress-bar"
                  :style="{width: progressBarWidth}"
                ></div>
              </item-progress>
            </div>
          </div>

          <div class="schedule-empty" v-if="this[default_filter].length === 0">
            No hay ninguna plática, ve a comer algo
          </div>
        </div>
      </div>

      <!-- the magic left panel -->
      <div id="overlay" class="off" @click="hidePanel"></div>
      <div id="left-panel" class="off">
        <div class="panel-header"></div>
        <div class="panel-body">
          <div class="panel-item-title">Programa por día</div>
          <div class="panel-item"><a @click.prevent="scheduleByDay" data-day="1" href="#">Lunes</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByDay" data-day="2" href="#">Martes</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByDay" data-day="3" href="#">Miércoles</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByDay" data-day="4" href="#">Jueves</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByDay" data-day="5" href="#">Viernes</a></div>

          <div class="panel-item-title">
            Programa por área <span class="beta">
              <i class="fa fa-bolt"></i>Beta<i class="fa fa-bolt"></i>
            </span>
          </div>
          <div class="panel-item"><a @click.prevent="scheduleByArea" data-area="1" href="#">Cursos</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByArea" data-area="2" href="#">Ponencias</a></div>
          <div class="panel-item"><a @click.prevent="scheduleByArea" data-area="3" href="#">Reportes de tesis</a></div>
        </div>
      </div>

      <div id="loader"><i class="fa fa-magic fa-spin"></i></div>
    </div>

    <script type="text/javascript" src="cordova.js"></script>
    <script type="text/javascript" src="js/moment.min.js"></script>
    <script type="text/javascript" src="js/vue.js"></script>
    <script type="text/javascript" src="js/item-progress.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
  </body>
</html>
