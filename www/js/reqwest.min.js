window.reqwest = function (url, callback, errCallback) {
  let onError = errCallback || function () {};
  var request = new XMLHttpRequest();

  request.open('GET', url, true);

  request.onload = function() {
    if (request.status >= 200 && request.status < 400) {
      try {
        return callback(JSON.parse(request.responseText));
      } catch (e) {
        onError(e);
      }
    } else {
      onError(request);
    }
  };

  request.onerror = onError;

  request.send();
};
